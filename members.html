<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guild Members - Hard F Cafe</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h1>Hard F Cafe</h1>
                <span>Guild Members</span>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="progression.html" class="nav-link">Progression</a></li>
                <li><a href="cc-chains.html" class="nav-link">CC Chains</a></li>
                <li><a href="r1-behaviors.html" class="nav-link">R1 Behaviors</a></li>
                <li><a href="members.html" class="nav-link active">Members</a></li>
            </ul>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Breadcrumb -->
    <div class="breadcrumb">
        <div class="container">
            <a href="index.html">Home</a> <span>></span> <span>Guild Members</span>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1 class="hero-title">Guild Members</h1>
            <p class="hero-subtitle">Meet the warriors of Hard F Cafe</p>
            <div class="hero-stats">
                <div class="stat">
                    <span class="stat-number" id="totalMembers">0</span>
                    <span class="stat-label">Total Members</span>
                </div>
                <div class="stat">
                    <span class="stat-number" id="avgRating">0</span>
                    <span class="stat-label">Average Rating</span>
                </div>
                <div class="stat">
                    <span class="stat-number" id="r1Members">0</span>
                    <span class="stat-label">R1 Players</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Members Section -->
    <section class="section">
        <div class="container">
            <!-- Filters and Search -->
            <div class="class-filters">
                <div class="search-box">
                    <input type="text" id="searchInput" class="search-input" placeholder="Search members...">
                    <i class="fas fa-search search-icon"></i>
                </div>
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="r1">R1 (2200+)</button>
                    <button class="filter-btn" data-filter="high">High (2000-2199)</button>
                    <button class="filter-btn" data-filter="mid">Mid (1700-1999)</button>
                    <button class="filter-btn" data-filter="low">Low (0-1699)</button>
                </div>
            </div>

            <!-- Sort Options -->
            <div class="sort-options">
                <label for="sortSelect">Sort by:</label>
                <select id="sortSelect" class="sort-select">
                    <option value="rating-desc">Rating (High to Low)</option>
                    <option value="rating-asc">Rating (Low to High)</option>
                    <option value="name-asc">Name (A to Z)</option>
                    <option value="name-desc">Name (Z to A)</option>
                    <option value="class">Class</option>
                </select>
            </div>

            <!-- Members Grid -->
            <div class="members-grid" id="membersGrid">
                <!-- Members will be populated by JavaScript -->
            </div>

            <!-- No Results Message -->
            <div class="no-results" id="noResults" style="display: none;">
                <i class="fas fa-search"></i>
                <h3>No members found</h3>
                <p>Try adjusting your search or filter criteria</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Hard F Cafe. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Members data from CSV with Ironforge URLs
        const membersData = [
            {name: "Trågédy", level: 90, class: "Monk", rating: 2259, rank: 0, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Tr%C3%A5g%C3%A9dy/"},
            {name: "Fairielee", level: 90, class: "Priest", rating: 2259, rank: 1, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Fairielee/"},
            {name: "Deizelqq", level: 90, class: "Warrior", rating: 2253, rank: 2, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Deizelqq/"},
            {name: "Echodevout", level: 90, class: "Priest", rating: 2148, rank: 2, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Echodevout/"},
            {name: "Phatazzmonk", level: 90, class: "Monk", rating: 2196, rank: 2, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Phatazzmonk/"},
            {name: "Linnéa", level: 90, class: "", rating: 1675, rank: 2, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Linn%C3%A9a/"},
            {name: "Trågedy", level: 90, class: "", rating: null, rank: 2, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Tr%C3%A5gedy/"},
            {name: "Naniwaifu", level: 90, class: "Hunter", rating: 2238, rank: 2, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Naniwaifu/"},
            {name: "Holygiga", level: 90, class: "Paladin", rating: 2266, rank: 2, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Holygiga/"},
            {name: "Wayoflife", level: 90, class: "Monk", rating: 1754, rank: 2, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Wayoflife/"},
            {name: "Tmremaru", level: 90, class: "", rating: null, rank: 2, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Tmremaru/"},
            {name: "Tragedysp", level: 90, class: "Priest", rating: 1524, rank: 3, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Tragedysp/"},
            {name: "Whisperbest", level: 90, class: "Mage", rating: 1745, rank: 3, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Whisperbest/"},
            {name: "Thatboyghost", level: 90, class: "Rogue", rating: 2183, rank: 4, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Thatboyghost/"},
            {name: "Wiko", level: 90, class: "Mage", rating: 1899, rank: 4, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Wiko/"},
            {name: "Kellydacat", level: 90, class: "Druid", rating: 2047, rank: 4, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Kellydacat/"},
            {name: "Kellydadk", level: 90, class: "", rating: 2224, rank: 4, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Kellydadk/"},
            {name: "Schwety", level: 90, class: "Shaman", rating: 2175, rank: 4, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Schwety/"},
            {name: "Schweter", level: 90, class: "", rating: 1645, rank: 4, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Schweter/"},
            {name: "Monkstuffs", level: 90, class: "Monk", rating: null, rank: 4, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Monkstuffs/"},
            {name: "Bêrty", level: 90, class: "Mage", rating: 1800, rank: 4, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/B%C3%AArty/"},
            {name: "Pastorphat", level: 90, class: "Paladin", rating: 1743, rank: 4, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Pastorphat/"},
            {name: "Deadxxlock", level: 90, class: "Warlock", rating: 959, rank: 4, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Deadxxlock/"},
            {name: "Ihavenohands", level: 90, class: "Monk", rating: null, rank: 4, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Ihavenohands/"},
            {name: "Jellyhoof", level: 90, class: "Paladin", rating: 2205, rank: 4, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Jellyhoof/"},
            {name: "Bubblegirlxo", level: 90, class: "Paladin", rating: 1705, rank: 4, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Bubblegirlxo/"},
            {name: "Epdntklhmslf", level: 90, class: "Warlock", rating: 2040, rank: 5, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Epdntklhmslf/"},
            {name: "Killerrbee", level: 90, class: "Druid", rating: 1783, rank: 5, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Killerrbee/"},
            {name: "Slagwagon", level: 90, class: "Shaman", rating: 1555, rank: 5, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Slagwagon/"},
            {name: "Lovehorn", level: 90, class: "Druid", rating: 1724, rank: 5, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Lovehorn/"},
            {name: "Gymsocks", level: 90, class: "Shaman", rating: 1840, rank: 5, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Gymsocks/"},
            {name: "Okiesheal", level: 90, class: "Priest", rating: 1749, rank: 5, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Okiesheal/"},
            {name: "Okiewar", level: 90, class: "", rating: null, rank: 5, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Okiewar/"},
            {name: "Raztoki", level: 90, class: "Shaman", rating: 1941, rank: 5, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Raztoki/"},
            {name: "Furtbern", level: 90, class: "Hunter", rating: 1899, rank: 5, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Furtbern/"},
            {name: "Mabaffroom", level: 90, class: "", rating: 768, rank: 5, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Mabaffroom/"},
            {name: "Greengrapès", level: 90, class: "Shaman", rating: 1672, rank: 5, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Greengrap%C3%A8s/"},
            {name: "Pootey", level: 90, class: "Warrior", rating: 2160, rank: 5, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Pootey/"},
            {name: "Gymsox", level: 90, class: "Priest", rating: 1835, rank: 5, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Gymsox/"},
            {name: "Abiowe", level: 90, class: "Druid", rating: 1836, rank: 5, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Abiowe/"},
            {name: "Pinkdreads", level: 90, class: "Druid", rating: 1556, rank: 5, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Pinkdreads/"},
            {name: "Ragnath", level: 90, class: "Monk", rating: 1848, rank: 5, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Ragnath/"},
            {name: "Healstitute", level: 90, class: "", rating: null, rank: 5, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Healstitute/"},
            {name: "Fatripsalday", level: 90, class: "", rating: null, rank: 5, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Fatripsalday/"},
            {name: "Junebugx", level: 90, class: "", rating: null, rank: 6, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Junebugx/"},
            {name: "Curtns", level: 90, class: "Druid", rating: 1623, rank: 6, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Curtns/"},
            {name: "Bigittybitty", level: 90, class: "Mage", rating: 1692, rank: 6, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Bigittybitty/"},
            {name: "Ïncdeath", level: 90, class: "", rating: null, rank: 7, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/%C3%8Fncdeath/"},
            {name: "Forgedinbeef", level: 90, class: "", rating: 576, rank: 7, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Forgedinbeef/"},
            {name: "Deadguru", level: 90, class: "Rogue", rating: 1709, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Deadguru/"},
            {name: "Twobithussy", level: 90, class: "Warrior", rating: 574, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Twobithussy/"},
            {name: "Jtehealsti", level: 90, class: "Priest", rating: 1551, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Jtehealsti/"},
            {name: "Justàpal", level: 90, class: "Paladin", rating: 384, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Just%C3%A0pal/"},
            {name: "Ræx", level: 90, class: "Hunter", rating: 1683, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/R%C3%A6x/"},
            {name: "Bóómer", level: 90, class: "Druid", rating: 1828, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/B%C3%B3%C3%B3mer/"},
            {name: "Morphame", level: 90, class: "Warrior", rating: 1547, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Morphame/"},
            {name: "Morphellos", level: 90, class: "", rating: null, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Morphellos/"},
            {name: "Morphenix", level: 90, class: "Mage", rating: 1718, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Morphenix/"},
            {name: "Allwhitebrix", level: 90, class: "Priest", rating: 1583, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Allwhitebrix/"},
            {name: "Danqwan", level: 90, class: "Druid", rating: 1664, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Danqwan/"},
            {name: "Xivz", level: 90, class: "Hunter", rating: 1887, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Xivz/"},
            {name: "Restimbal", level: 90, class: "", rating: null, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Restimbal/"},
            {name: "Hunterbidan", level: 90, class: "Hunter", rating: null, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Hunterbidan/"},
            {name: "Biigcheef", level: 90, class: "Warrior", rating: 1535, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Biigcheef/"},
            {name: "Framen", level: 90, class: "Hunter", rating: null, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Framen/"},
            {name: "Punchyx", level: 90, class: "Druid", rating: 1344, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Punchyx/"},
            {name: "Sephres", level: 90, class: "", rating: null, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Sephres/"},
            {name: "Bewarethedog", level: 90, class: "Warrior", rating: 1786, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Bewarethedog/"},
            {name: "Xyclops", level: 90, class: "Hunter", rating: 1746, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Xyclops/"},
            {name: "Söurdiesel", level: 90, class: "", rating: null, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/S%C3%B6urdiesel/"},
            {name: "Kïttÿcüddlës", level: 90, class: "Priest", rating: 379, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/K%C3%AFtt%C3%BFc%C3%BCddl%C3%ABs/"},
            {name: "Grizzborn", level: 90, class: "Shaman", rating: 1765, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Grizzborn/"},
            {name: "Mfghøst", level: 90, class: "Priest", rating: 1141, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Mfgh%C3%B8st/"},
            {name: "Greenit", level: 90, class: "", rating: null, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Greenit/"},
            {name: "Zanzilla", level: 90, class: "Druid", rating: null, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Zanzilla/"},
            {name: "Sheepiedk", level: 90, class: "", rating: null, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Sheepiedk/"},
            {name: "Monklee", level: 90, class: "Monk", rating: 1550, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Monklee/"},
            {name: "Maestrotank", level: 90, class: "", rating: null, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Maestrotank/"},
            {name: "Mizax", level: 90, class: "Priest", rating: 1886, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Mizax/"},
            {name: "Dolanstahp", level: 90, class: "", rating: 571, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Dolanstahp/"},
            {name: "Cummysomuch", level: 90, class: "", rating: null, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Cummysomuch/"},
            {name: "Cosmicat", level: 90, class: "", rating: null, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Cosmicat/"},
            {name: "Scrollfast", level: 90, class: "Paladin", rating: null, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Scrollfast/"},
            {name: "Joldor", level: 90, class: "Warrior", rating: 1866, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Joldor/"},
            {name: "Beefmami", level: 90, class: "Priest", rating: 1332, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Beefmami/"},
            {name: "Animool", level: 90, class: "", rating: null, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Animool/"},
            {name: "Colanyt", level: 90, class: "", rating: null, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Colanyt/"},
            {name: "Zarcineda", level: 90, class: "Monk", rating: 1488, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Zarcineda/"},
            {name: "Manyqt", level: 90, class: "Shaman", rating: null, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Manyqt/"},
            {name: "Machomonka", level: 90, class: "Monk", rating: 1521, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Machomonka/"},
            {name: "Dwonswonmdi", level: 90, class: "", rating: null, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Dwonswonmdi/"},
            {name: "Gawks", level: 90, class: "", rating: null, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Gawks/"},
            {name: "Bustybob", level: 90, class: "Mage", rating: 2135, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Bustybob/"},
            {name: "Damagingdad", level: 90, class: "Warrior", rating: 1723, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Damagingdad/"},
            {name: "Minimurr", level: 90, class: "Warrior", rating: 384, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Minimurr/"},
            {name: "Voidrend", level: 90, class: "", rating: null, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Voidrend/"},
            {name: "Carnoldo", level: 90, class: "Druid", rating: 1610, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Carnoldo/"},
            {name: "Budyo", level: 90, class: "", rating: null, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Budyo/"},
            {name: "Mahhguy", level: 90, class: "Hunter", rating: 1634, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Mahhguy/"},
            {name: "Firstwind", level: 90, class: "", rating: null, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Firstwind/"},
            {name: "Robdogg", level: 90, class: "", rating: null, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Robdogg/"},
            {name: "Kormash", level: 90, class: "", rating: null, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Kormash/"},
            {name: "Animalthief", level: 90, class: "Hunter", rating: 1640, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Animalthief/"},
            {name: "Earthsunder", level: 90, class: "Shaman", rating: 1886, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Earthsunder/"},
            {name: "Remulock", level: 90, class: "Warlock", rating: 576, rank: 8, profileUrl: "https://ironforge.pro/pvp/player/Faerlina/Remulock/"}
        ];

        // Filter out corrupted entries (empty names or invalid data)
        const validMembers = membersData.filter(member => 
            member.name && 
            member.name.trim() !== '' && 
            member.level && 
            member.level > 0
        );

        let filteredMembers = [...validMembers];
        let currentFilter = 'all';
        let currentSort = 'rating-desc';

        // Class icons mapping
        const classIcons = {
            'Warrior': '⚔️',
            'Paladin': '🛡️',
            'Hunter': '🏹',
            'Rogue': '🗡️',
            'Priest': '✨',
            'Death Knight': '💀',
            'Shaman': '⚡',
            'Mage': '🔮',
            'Warlock': '👹',
            'Monk': '🥋',
            'Druid': '🌿',
            'Demon Hunter': '👁️'
        };

        // Rating color mapping
        function getRatingColor(rating) {
            if (!rating) return '#888';
            if (rating >= 2200) return '#ffd700'; // Gold for R1
            if (rating >= 2000) return '#ff6b6b'; // Red for high
            if (rating >= 1700) return '#ffd93d'; // Yellow for mid
            return '#6bcf7f'; // Green for low
        }

        // Rating tier mapping
        function getRatingTier(rating, memberName) {
            // Only players with actual R1 skill get R1 title
            const r1Players = ['Holygiga', 'Tmremaru', 'Wayoflife', 'Remulock', 'Trågédy', 'Whisperbest'];
            if (r1Players.includes(memberName)) return 'R1';
            
            if (!rating) return 'Unrated';
            if (rating >= 2000) return 'High';
            if (rating >= 1700) return 'Mid';
            return 'Low';
        }

        // Create member card HTML
        function createMemberCard(member) {
            const ratingTier = getRatingTier(member.rating, member.name);
            const ratingColor = getRatingColor(member.rating);
            const classIcon = classIcons[member.class] || '❓';
            
            // Check if this is an alt character (excluding Holygiga which is main)
            const isAlt = ['Tmremaru', 'Remulock', 'Wayoflife'].includes(member.name);
            
            return `
                <a href="${member.profileUrl}" target="_blank" rel="noopener noreferrer" class="member-card-link">
                    <div class="member-card" data-rating="${member.rating || 0}" data-name="${member.name.toLowerCase()}" data-class="${member.class.toLowerCase()}">
                        <div class="member-header">
                            <div class="member-icon">${classIcon}</div>
                            <div class="member-info">
                                <h3 class="member-name">${member.name} ${isAlt ? '<span class="alt-badge">ALT</span>' : ''}</h3>
                                <p class="member-class">${member.class || 'Unknown Class'}</p>
                            </div>
                            <div class="member-level">Lv.${member.level}</div>
                        </div>
                        <div class="member-stats">
                            <div class="rating-display">
                                <span class="rating-label">Rating:</span>
                                <span class="rating-value" style="color: ${ratingColor}">
                                    ${member.rating ? member.rating.toLocaleString() : 'N/A'}
                                </span>
                            </div>
                            <div class="tier-badge tier-${ratingTier.toLowerCase()}">
                                ${ratingTier}
                            </div>
                        </div>
                        <div class="member-rank">
                            <span class="rank-label">Guild Rank:</span>
                            <span class="rank-value">${member.rank}</span>
                        </div>
                        <div class="profile-link">
                            <i class="fas fa-external-link-alt"></i>
                            <span>View Profile</span>
                        </div>
                    </div>
                </a>
            `;
        }

        // Render members
        function renderMembers() {
            const membersGrid = document.getElementById('membersGrid');
            const noResults = document.getElementById('noResults');
            
            if (filteredMembers.length === 0) {
                membersGrid.innerHTML = '';
                noResults.style.display = 'block';
            } else {
                noResults.style.display = 'none';
                membersGrid.innerHTML = filteredMembers.map(createMemberCard).join('');
            }
        }

        // Filter members
        function filterMembers(filter) {
            currentFilter = filter;
            
            switch (filter) {
                case 'r1':
                    // R1 players are those with actual R1 skill, not just high rating
                    const r1Players = ['Holygiga', 'Tmremaru', 'Wayoflife', 'Remulock', 'Trågédy', 'Whisperbest'];
                    filteredMembers = validMembers.filter(m => r1Players.includes(m.name));
                    break;
                case 'high':
                    filteredMembers = validMembers.filter(m => m.rating && m.rating >= 2000);
                    break;
                case 'mid':
                    filteredMembers = validMembers.filter(m => m.rating && m.rating >= 1700 && m.rating < 2000);
                    break;
                case 'low':
                    filteredMembers = validMembers.filter(m => m.rating && m.rating < 1700);
                    break;
                default:
                    filteredMembers = [...validMembers];
            }
            
            applySearch();
            sortMembers();
            renderMembers();
        }

        // Search members
        function applySearch() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            
            if (searchTerm) {
                filteredMembers = filteredMembers.filter(member => 
                    member.name.toLowerCase().includes(searchTerm) ||
                    (member.class && member.class.toLowerCase().includes(searchTerm))
                );
            }
        }

        // Sort members
        function sortMembers() {
            switch (currentSort) {
                case 'rating-desc':
                    filteredMembers.sort((a, b) => (b.rating || 0) - (a.rating || 0));
                    break;
                case 'rating-asc':
                    filteredMembers.sort((a, b) => (a.rating || 0) - (b.rating || 0));
                    break;
                case 'name-asc':
                    filteredMembers.sort((a, b) => a.name.localeCompare(b.name));
                    break;
                case 'name-desc':
                    filteredMembers.sort((a, b) => b.name.localeCompare(a.name));
                    break;
                case 'class':
                    filteredMembers.sort((a, b) => (a.class || '').localeCompare(b.class || ''));
                    break;
            }
        }

        // Update statistics
        function updateStats() {
            const totalMembers = validMembers.length;
            
            // Calculate average rating from top 10 rated players only
            const membersWithRating = validMembers.filter(m => m.rating);
            const top10Members = membersWithRating
                .sort((a, b) => b.rating - a.rating)
                .slice(0, 10);
            const avgRating = top10Members.length > 0 
                ? Math.round(top10Members.reduce((sum, m) => sum + m.rating, 0) / top10Members.length)
                : 0;
            
            // R1 count excluding alts (only main characters with R1 skill)
            const r1MainPlayers = ['Holygiga', 'Trågédy', 'Whisperbest'];
            const r1Members = validMembers.filter(m => r1MainPlayers.includes(m.name)).length;
            
            document.getElementById('totalMembers').textContent = totalMembers;
            document.getElementById('avgRating').textContent = avgRating.toLocaleString();
            document.getElementById('r1Members').textContent = r1Members;
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            updateStats();
            renderMembers();
            
            // Filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    filterMembers(this.dataset.filter);
                });
            });
            
            // Search input
            document.getElementById('searchInput').addEventListener('input', function() {
                filterMembers(currentFilter);
            });
            
            // Sort select
            document.getElementById('sortSelect').addEventListener('change', function() {
                currentSort = this.value;
                sortMembers();
                renderMembers();
            });
        });
    </script>

    <style>
        /* Members Page Specific Styles */
        .members-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 40px;
        }

        .member-card-link {
            text-decoration: none;
            color: inherit;
            display: block;
        }

        .member-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(168, 85, 247, 0.3);
            border-radius: 15px;
            padding: 25px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .member-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 212, 255, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .member-card:hover::before {
            left: 100%;
        }

        .member-card:hover {
            transform: translateY(-5px);
            border-color: #a855f7;
            box-shadow: 0 10px 30px rgba(168, 85, 247, 0.2);
        }

        .member-card-link:hover .member-card {
            transform: translateY(-5px);
            border-color: #a855f7;
            box-shadow: 0 10px 30px rgba(168, 85, 247, 0.2);
        }

        .member-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .member-icon {
            font-size: 2.5rem;
            flex-shrink: 0;
        }

        .member-info {
            flex: 1;
        }

        .member-name {
            font-family: 'Orbitron', monospace;
            font-size: 1.3rem;
            color: #a855f7;
            margin-bottom: 5px;
            text-shadow: 0 0 5px #a855f7;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .alt-badge {
            background: linear-gradient(45deg, #ff6b6b, #ff5252);
            color: #fff;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 2px 4px rgba(255, 107, 107, 0.3);
        }

        .member-class {
            color: #cccccc;
            font-size: 0.9rem;
            margin: 0;
        }

        .member-level {
            background: rgba(168, 85, 247, 0.2);
            color: #a855f7;
            padding: 5px 12px;
            border-radius: 15px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .member-stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
        }

        .rating-display {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .rating-label {
            font-size: 0.8rem;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .rating-value {
            font-family: 'Orbitron', monospace;
            font-size: 1.2rem;
            font-weight: 700;
        }

        .tier-badge {
            padding: 5px 12px;
            border-radius: 15px;
            font-weight: 700;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .tier-badge.tier-r1 {
            background: linear-gradient(45deg, #ffd700, #ffb700);
            color: #000;
        }

        .tier-badge.tier-high {
            background: linear-gradient(45deg, #ff6b6b, #ff5252);
            color: #fff;
        }

        .tier-badge.tier-mid {
            background: linear-gradient(45deg, #ffd93d, #ffc107);
            color: #000;
        }

        .tier-badge.tier-low {
            background: linear-gradient(45deg, #6bcf7f, #4caf50);
            color: #000;
        }

        .tier-badge.tier-unrated {
            background: rgba(255, 255, 255, 0.1);
            color: #888;
        }

        .member-rank {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .rank-label {
            color: #888;
            font-size: 0.9rem;
        }

        .rank-value {
            color: #a855f7;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .profile-link {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-top: 15px;
            padding: 10px;
            background: rgba(168, 85, 247, 0.1);
            border-radius: 8px;
            color: #a855f7;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            opacity: 0;
            transform: translateY(10px);
        }

        .member-card:hover .profile-link {
            opacity: 1;
            transform: translateY(0);
        }

        .member-card-link:hover .profile-link {
            opacity: 1;
            transform: translateY(0);
        }

        .profile-link i {
            font-size: 0.8rem;
        }

        .sort-options {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            border: 1px solid rgba(168, 85, 247, 0.2);
        }

        .sort-options label {
            color: #cccccc;
            font-weight: 500;
        }

        .sort-select {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(168, 85, 247, 0.3);
            border-radius: 8px;
            color: #ffffff;
            padding: 8px 15px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .sort-select:focus {
            outline: none;
            border-color: #a855f7;
            box-shadow: 0 0 10px rgba(168, 85, 247, 0.3);
        }

        .sort-select option {
            background: #2d1b69;
            color: #ffffff;
        }

        .no-results {
            text-align: center;
            padding: 60px 20px;
            color: #888;
        }

        .no-results i {
            font-size: 4rem;
            margin-bottom: 20px;
            color: #a855f7;
        }

        .no-results h3 {
            font-family: 'Orbitron', monospace;
            font-size: 1.5rem;
            color: #a855f7;
            margin-bottom: 10px;
        }

        .no-results p {
            font-size: 1.1rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .members-grid {
                grid-template-columns: 1fr;
            }
            
            .member-header {
                flex-direction: column;
                text-align: center;
                gap: 10px;
            }
            
            .member-stats {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .sort-options {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
        }
    </style>
</body>
</html>
